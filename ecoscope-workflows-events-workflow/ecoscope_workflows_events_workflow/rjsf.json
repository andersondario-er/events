{
  "properties": {
    "workflow_details": {
      "additionalProperties": false,
      "properties": {
        "name": {
          "title": "Name",
          "type": "string",
          "description": "The name of your workflow"
        },
        "description": {
          "title": "Description",
          "type": "string",
          "description": "A description"
        },
        "image_url": {
          "default": "",
          "title": "Image Url",
          "type": "string",
          "description": "An image url"
        }
      },
      "required": [
        "name",
        "description"
      ],
      "type": "object",
      "title": "Set Workflow Details"
    },
    "groupers": {
      "additionalProperties": false,
      "properties": {
        "groupers": {
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/Grouper"
              },
              {
                "$ref": "#/$defs/TemporalGrouper"
              }
            ]
          },
          "title": "Groupers",
          "type": "array",
          "description": "            Index(es) and/or column(s) to group by, along with\n            optional display names and help text.\n            "
        }
      },
      "required": [
        "groupers"
      ],
      "type": "object",
      "title": "Set Groupers"
    },
    "time_range": {
      "additionalProperties": false,
      "properties": {
        "since": {
          "format": "date-time",
          "title": "Since",
          "type": "string",
          "description": "The start time"
        },
        "until": {
          "format": "date-time",
          "title": "Until",
          "type": "string",
          "description": "The end time"
        }
      },
      "required": [
        "since",
        "until"
      ],
      "type": "object",
      "title": "Set Time Range Filters"
    },
    "get_events_data": {
      "additionalProperties": false,
      "properties": {
        "client": {
          "description": "A named EarthRanger connection.",
          "title": "Client",
          "type": "string"
        },
        "event_types": {
          "items": {
            "type": "string"
          },
          "title": "Event Types",
          "type": "array",
          "description": "list of event types"
        },
        "event_columns": {
          "items": {
            "type": "string"
          },
          "title": "Event Columns",
          "type": "array",
          "description": "The interested event columns"
        }
      },
      "required": [
        "client",
        "event_types",
        "event_columns"
      ],
      "type": "object",
      "title": "Get Events from EarthRanger"
    },
    "events_colormap": {
      "additionalProperties": false,
      "properties": {
        "input_column_name": {
          "title": "Input Column Name",
          "type": "string",
          "description": "The name of the column with categorical values."
        },
        "colormap": {
          "default": "viridis",
          "title": "Colormap",
          "type": "string",
          "description": "A named matplotlib colormap."
        },
        "output_column_name": {
          "default": null,
          "title": "Output Column Name",
          "type": "string",
          "description": "The dataframe column that will contain the color values."
        }
      },
      "required": [
        "input_column_name"
      ],
      "type": "object",
      "title": "Events Colormap"
    },
    "events_ecomap": {
      "additionalProperties": false,
      "properties": {
        "tile_layers": {
          "default": [],
          "items": {
            "$ref": "#/$defs/TileLayer"
          },
          "title": "Tile Layers",
          "type": "array",
          "description": "A list of named tile layer with opacity, ie OpenStreetMap."
        },
        "static": {
          "default": false,
          "title": "Static",
          "type": "boolean",
          "description": "Set to true to disable map pan/zoom."
        },
        "north_arrow_style": {
          "allOf": [
            {
              "$ref": "#/$defs/NorthArrowStyle"
            }
          ],
          "default": {
            "placement": "top-left",
            "style": {
              "transform": "scale(0.8)"
            }
          },
          "title": "North Arrow Style",
          "description": "Additional arguments for configuring the North Arrow."
        },
        "legend_style": {
          "allOf": [
            {
              "$ref": "#/$defs/LegendStyle"
            }
          ],
          "default": {
            "placement": "bottom-right"
          },
          "title": "Legend Style",
          "description": "Additional arguments for configuring the legend."
        }
      },
      "required": [],
      "type": "object",
      "title": "Draw Ecomap from Time Density"
    },
    "events_map_widget": {
      "additionalProperties": false,
      "properties": {
        "title": {
          "title": "Title",
          "type": "string",
          "description": "The title of the widget"
        }
      },
      "required": [
        "title"
      ],
      "type": "object",
      "title": "Create Time Density Map Widget"
    },
    "events_bar_chart": {
      "additionalProperties": false,
      "properties": {
        "time_interval": {
          "enum": [
            "year",
            "month",
            "week",
            "day",
            "hour"
          ],
          "title": "Time Interval",
          "type": "string",
          "description": "Sets the time interval of the x axis."
        },
        "grouped_styles": {
          "default": [],
          "items": {
            "$ref": "#/$defs/GroupedPlotStyle"
          },
          "title": "Grouped Styles",
          "type": "array",
          "description": "Style arguments passed to plotly.graph_objects.Bar and applied to individual groups."
        }
      },
      "required": [
        "time_interval"
      ],
      "type": "object",
      "title": "Draw Time Series Bar Chart for Events"
    },
    "events_bar_chart_widget": {
      "additionalProperties": false,
      "properties": {
        "title": {
          "title": "Title",
          "type": "string",
          "description": "The title of the widget"
        }
      },
      "required": [
        "title"
      ],
      "type": "object",
      "title": "Create Plot Widget for Events"
    },
    "events_meshgrid": {
      "additionalProperties": false,
      "properties": {
        "cell_width": {
          "default": 5000,
          "title": "Cell Width",
          "type": "integer",
          "description": "The width of a grid cell in meters."
        },
        "cell_height": {
          "default": 5000,
          "title": "Cell Height",
          "type": "integer",
          "description": "The height of a grid cell in meters."
        },
        "intersecting_only": {
          "default": false,
          "title": "Intersecting Only",
          "type": "boolean",
          "description": "Whether to return only grid cells intersecting with the aoi."
        }
      },
      "required": [],
      "type": "object",
      "title": "Create Events Meshgrid"
    },
    "events_feature_density": {
      "additionalProperties": false,
      "properties": {
        "geometry_type": {
          "enum": [
            "point",
            "line"
          ],
          "title": "Geometry Type",
          "type": "string",
          "description": "The geometry type of the provided geodataframe"
        }
      },
      "required": [
        "geometry_type"
      ],
      "type": "object",
      "title": "Events Feature Density"
    },
    "fd_colormap": {
      "additionalProperties": false,
      "properties": {
        "input_column_name": {
          "title": "Input Column Name",
          "type": "string",
          "description": "The name of the column with categorical values."
        },
        "colormap": {
          "default": "viridis",
          "title": "Colormap",
          "type": "string",
          "description": "A named matplotlib colormap."
        },
        "output_column_name": {
          "default": null,
          "title": "Output Column Name",
          "type": "string",
          "description": "The dataframe column that will contain the color values."
        }
      },
      "required": [
        "input_column_name"
      ],
      "type": "object",
      "title": "Feature Density Colormap"
    },
    "fd_ecomap": {
      "additionalProperties": false,
      "properties": {
        "tile_layers": {
          "default": [],
          "items": {
            "$ref": "#/$defs/TileLayer"
          },
          "title": "Tile Layers",
          "type": "array",
          "description": "A list of named tile layer with opacity, ie OpenStreetMap."
        },
        "static": {
          "default": false,
          "title": "Static",
          "type": "boolean",
          "description": "Set to true to disable map pan/zoom."
        },
        "north_arrow_style": {
          "allOf": [
            {
              "$ref": "#/$defs/NorthArrowStyle"
            }
          ],
          "default": {
            "placement": "top-left",
            "style": {
              "transform": "scale(0.8)"
            }
          },
          "title": "North Arrow Style",
          "description": "Additional arguments for configuring the North Arrow."
        },
        "legend_style": {
          "allOf": [
            {
              "$ref": "#/$defs/LegendStyle"
            }
          ],
          "default": {
            "placement": "bottom-right"
          },
          "title": "Legend Style",
          "description": "Additional arguments for configuring the legend."
        }
      },
      "required": [],
      "type": "object",
      "title": "Draw Ecomap from Feature Density"
    },
    "fd_map_widget": {
      "additionalProperties": false,
      "properties": {
        "title": {
          "title": "Title",
          "type": "string",
          "description": "The title of the widget"
        }
      },
      "required": [
        "title"
      ],
      "type": "object",
      "title": "Create Feature Density Map Widget"
    },
    "grouped_events_ecomap": {
      "additionalProperties": false,
      "properties": {
        "tile_layers": {
          "default": [],
          "items": {
            "$ref": "#/$defs/TileLayer"
          },
          "title": "Tile Layers",
          "type": "array",
          "description": "A list of named tile layer with opacity, ie OpenStreetMap."
        },
        "static": {
          "default": false,
          "title": "Static",
          "type": "boolean",
          "description": "Set to true to disable map pan/zoom."
        },
        "north_arrow_style": {
          "allOf": [
            {
              "$ref": "#/$defs/NorthArrowStyle"
            }
          ],
          "default": {
            "placement": "top-left",
            "style": {
              "transform": "scale(0.8)"
            }
          },
          "title": "North Arrow Style",
          "description": "Additional arguments for configuring the North Arrow."
        },
        "legend_style": {
          "allOf": [
            {
              "$ref": "#/$defs/LegendStyle"
            }
          ],
          "default": {
            "placement": "bottom-right"
          },
          "title": "Legend Style",
          "description": "Additional arguments for configuring the legend."
        }
      },
      "required": [],
      "type": "object",
      "title": "Draw Ecomap from grouped Events"
    },
    "grouped_events_map_widget": {
      "additionalProperties": false,
      "properties": {
        "title": {
          "title": "Title",
          "type": "string",
          "description": "The title of the widget"
        }
      },
      "required": [
        "title"
      ],
      "type": "object",
      "title": "Create grouped Events Map Widget"
    },
    "grouped_events_pie_chart_widgets": {
      "additionalProperties": false,
      "properties": {
        "title": {
          "title": "Title",
          "type": "string",
          "description": "The title of the widget"
        }
      },
      "required": [
        "title"
      ],
      "type": "object",
      "title": "Create Plot Widget for Events"
    },
    "grouped_events_feature_density": {
      "additionalProperties": false,
      "properties": {
        "geometry_type": {
          "enum": [
            "point",
            "line"
          ],
          "title": "Geometry Type",
          "type": "string",
          "description": "The geometry type of the provided geodataframe"
        }
      },
      "required": [
        "geometry_type"
      ],
      "type": "object",
      "title": "Grouped Events Feature Density"
    },
    "grouped_fd_colormap": {
      "additionalProperties": false,
      "properties": {
        "input_column_name": {
          "title": "Input Column Name",
          "type": "string",
          "description": "The name of the column with categorical values."
        },
        "colormap": {
          "default": "viridis",
          "title": "Colormap",
          "type": "string",
          "description": "A named matplotlib colormap."
        },
        "output_column_name": {
          "default": null,
          "title": "Output Column Name",
          "type": "string",
          "description": "The dataframe column that will contain the color values."
        }
      },
      "required": [
        "input_column_name"
      ],
      "type": "object",
      "title": "Grouped Feature Density Colormap"
    },
    "grouped_fd_ecomap": {
      "additionalProperties": false,
      "properties": {
        "tile_layers": {
          "default": [],
          "items": {
            "$ref": "#/$defs/TileLayer"
          },
          "title": "Tile Layers",
          "type": "array",
          "description": "A list of named tile layer with opacity, ie OpenStreetMap."
        },
        "static": {
          "default": false,
          "title": "Static",
          "type": "boolean",
          "description": "Set to true to disable map pan/zoom."
        },
        "north_arrow_style": {
          "allOf": [
            {
              "$ref": "#/$defs/NorthArrowStyle"
            }
          ],
          "default": {
            "placement": "top-left",
            "style": {
              "transform": "scale(0.8)"
            }
          },
          "title": "North Arrow Style",
          "description": "Additional arguments for configuring the North Arrow."
        },
        "legend_style": {
          "allOf": [
            {
              "$ref": "#/$defs/LegendStyle"
            }
          ],
          "default": {
            "placement": "bottom-right"
          },
          "title": "Legend Style",
          "description": "Additional arguments for configuring the legend."
        }
      },
      "required": [],
      "type": "object",
      "title": "Draw Ecomap from Feature Density"
    },
    "grouped_fd_map_widget": {
      "additionalProperties": false,
      "properties": {
        "title": {
          "title": "Title",
          "type": "string",
          "description": "The title of the widget"
        }
      },
      "required": [
        "title"
      ],
      "type": "object",
      "title": "Create Feature Density Map Widget"
    }
  },
  "$defs": {
    "Grouper": {
      "properties": {
        "index_name": {
          "title": "Index Name",
          "type": "string"
        }
      },
      "required": [
        "index_name"
      ],
      "title": "Grouper",
      "type": "object"
    },
    "TemporalGrouper": {
      "properties": {
        "index_name": {
          "title": "Index Name",
          "type": "string"
        },
        "directive": {
          "enum": [
            "%a",
            "%A",
            "%b",
            "%B",
            "%c",
            "%d",
            "%f",
            "%H",
            "%I",
            "%j",
            "%m",
            "%M",
            "%p",
            "%S",
            "%U",
            "%w",
            "%W",
            "%x",
            "%X",
            "%y",
            "%Y",
            "%z",
            "%%"
          ],
          "title": "Directive",
          "type": "string"
        }
      },
      "required": [
        "index_name",
        "directive"
      ],
      "title": "TemporalGrouper",
      "type": "object"
    },
    "TimeRange": {
      "properties": {
        "since": {
          "format": "date-time",
          "title": "Since",
          "type": "string"
        },
        "until": {
          "format": "date-time",
          "title": "Until",
          "type": "string"
        },
        "time_format": {
          "default": "%d %b %Y %H:%M:%S %Z",
          "title": "Time Format",
          "type": "string"
        }
      },
      "required": [
        "since",
        "until"
      ],
      "title": "TimeRange",
      "type": "object"
    },
    "LayerDefinition": {
      "properties": {
        "geodataframe": {
          "title": "Geodataframe",
          "type": "ecoscope_workflows.annotations.DataFrame"
        },
        "layer_style": {
          "anyOf": [
            {
              "$ref": "#/$defs/PolylineLayerStyle"
            },
            {
              "$ref": "#/$defs/PointLayerStyle"
            },
            {
              "$ref": "#/$defs/PolygonLayerStyle"
            }
          ],
          "title": "Layer Style"
        },
        "legend": {
          "$ref": "#/$defs/LegendDefinition"
        }
      },
      "required": [
        "geodataframe",
        "layer_style",
        "legend"
      ],
      "title": "LayerDefinition",
      "type": "object"
    },
    "LegendDefinition": {
      "properties": {
        "label_column": {
          "default": null,
          "title": "Label Column",
          "type": "string"
        },
        "color_column": {
          "default": null,
          "title": "Color Column",
          "type": "string"
        },
        "labels": {
          "default": null,
          "items": {
            "type": "string"
          },
          "title": "Labels",
          "type": "array"
        },
        "colors": {
          "default": null,
          "items": {
            "type": "string"
          },
          "title": "Colors",
          "type": "array"
        }
      },
      "title": "LegendDefinition",
      "type": "object"
    },
    "LegendStyle": {
      "properties": {
        "placement": {
          "default": "bottom-right",
          "enum": [
            "top-left",
            "top-right",
            "bottom-left",
            "bottom-right",
            "fill"
          ],
          "title": "Placement",
          "type": "string"
        }
      },
      "title": "LegendStyle",
      "type": "object"
    },
    "NorthArrowStyle": {
      "properties": {
        "placement": {
          "default": "top-left",
          "enum": [
            "top-left",
            "top-right",
            "bottom-left",
            "bottom-right",
            "fill"
          ],
          "title": "Placement",
          "type": "string"
        },
        "style": {
          "default": {
            "transform": "scale(0.8)"
          },
          "title": "Style",
          "type": "object"
        }
      },
      "title": "NorthArrowStyle",
      "type": "object"
    },
    "PointLayerStyle": {
      "properties": {
        "filled": {
          "default": true,
          "title": "Filled",
          "type": "boolean"
        },
        "get_fill_color": {
          "default": null,
          "title": "Get Fill Color",
          "type": "string"
        },
        "get_line_color": {
          "default": null,
          "title": "Get Line Color",
          "type": "string"
        },
        "get_line_width": {
          "default": 1,
          "title": "Get Line Width",
          "type": "number"
        },
        "fill_color_column": {
          "default": null,
          "title": "Fill Color Column",
          "type": "string"
        },
        "line_width_units": {
          "default": "pixels",
          "enum": [
            "meters",
            "pixels"
          ],
          "title": "Line Width Units",
          "type": "string"
        },
        "get_radius": {
          "default": 5,
          "title": "Get Radius",
          "type": "number"
        },
        "radius_units": {
          "default": "pixels",
          "enum": [
            "meters",
            "pixels"
          ],
          "title": "Radius Units",
          "type": "string"
        }
      },
      "title": "PointLayerStyle",
      "type": "object"
    },
    "PolygonLayerStyle": {
      "properties": {
        "filled": {
          "default": true,
          "title": "Filled",
          "type": "boolean"
        },
        "get_fill_color": {
          "default": null,
          "title": "Get Fill Color",
          "type": "string"
        },
        "get_line_color": {
          "default": null,
          "title": "Get Line Color",
          "type": "string"
        },
        "get_line_width": {
          "default": 1,
          "title": "Get Line Width",
          "type": "number"
        },
        "fill_color_column": {
          "default": null,
          "title": "Fill Color Column",
          "type": "string"
        },
        "line_width_units": {
          "default": "pixels",
          "enum": [
            "meters",
            "pixels"
          ],
          "title": "Line Width Units",
          "type": "string"
        },
        "extruded": {
          "default": false,
          "title": "Extruded",
          "type": "boolean"
        },
        "get_elevation": {
          "default": 1000,
          "title": "Get Elevation",
          "type": "number"
        }
      },
      "title": "PolygonLayerStyle",
      "type": "object"
    },
    "PolylineLayerStyle": {
      "properties": {},
      "title": "PolylineLayerStyle",
      "type": "object"
    },
    "TileLayer": {
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        },
        "opacity": {
          "default": 1,
          "title": "Opacity",
          "type": "number"
        }
      },
      "required": [
        "name"
      ],
      "title": "TileLayer",
      "type": "object"
    },
    "BarLayoutStyle": {
      "properties": {
        "font_color": {
          "default": null,
          "title": "Font Color",
          "type": "string"
        },
        "font_style": {
          "default": null,
          "title": "Font Style",
          "type": "string"
        },
        "plot_bgcolor": {
          "default": null,
          "title": "Plot Bgcolor",
          "type": "string"
        },
        "showlegend": {
          "default": null,
          "title": "Showlegend",
          "type": "boolean"
        },
        "bargap": {
          "default": null,
          "maximum": 1.0,
          "minimum": 0.0,
          "title": "Bargap",
          "type": "number"
        },
        "bargroupgap": {
          "default": null,
          "maximum": 1.0,
          "minimum": 0.0,
          "title": "Bargroupgap",
          "type": "number"
        }
      },
      "title": "BarLayoutStyle",
      "type": "object"
    },
    "GroupedPlotStyle": {
      "properties": {
        "category": {
          "title": "Category",
          "type": "string"
        },
        "plot_style": {
          "$ref": "#/$defs/PlotCategoryStyle"
        }
      },
      "required": [
        "category",
        "plot_style"
      ],
      "title": "GroupedPlotStyle",
      "type": "object"
    },
    "LineStyle": {
      "properties": {
        "color": {
          "default": null,
          "title": "Color",
          "type": "string"
        }
      },
      "title": "LineStyle",
      "type": "object"
    },
    "PlotCategoryStyle": {
      "properties": {
        "marker_color": {
          "default": null,
          "title": "Marker Color",
          "type": "string"
        }
      },
      "title": "PlotCategoryStyle",
      "type": "object"
    },
    "PlotStyle": {
      "properties": {
        "xperiodalignment": {
          "default": null,
          "title": "Xperiodalignment",
          "type": "string"
        },
        "marker_colors": {
          "default": null,
          "items": {
            "type": "string"
          },
          "title": "Marker Colors",
          "type": "array"
        },
        "textinfo": {
          "default": null,
          "title": "Textinfo",
          "type": "string"
        },
        "line": {
          "allOf": [
            {
              "$ref": "#/$defs/LineStyle"
            }
          ],
          "default": null,
          "title": "Line"
        }
      },
      "title": "PlotStyle",
      "type": "object"
    }
  },
  "additionalProperties": false,
  "uiSchema": {
    "ui:order": [
      "workflow_details",
      "groupers",
      "time_range",
      "get_events_data",
      "events_colormap",
      "events_ecomap",
      "events_map_widget",
      "events_bar_chart",
      "events_bar_chart_widget",
      "events_meshgrid",
      "events_feature_density",
      "fd_colormap",
      "fd_ecomap",
      "fd_map_widget",
      "grouped_events_ecomap",
      "grouped_events_map_widget",
      "grouped_events_pie_chart_widgets",
      "grouped_events_feature_density",
      "grouped_fd_colormap",
      "grouped_fd_ecomap",
      "grouped_fd_map_widget"
    ]
  }
}
